---
/* 
TODO: Transparent Inverted Navigation Idea
- Remove nav background completely (transparent)
- Apply mix-blend-mode: difference to nav links and logo
- Nav text automatically inverts based on content behind it
- Dark text becomes light over light content, vice versa
- Pure CSS solution, no JavaScript needed
- Maximum page space utilization with real-time color adaptation

Implementation:
.nav-links {
  mix-blend-mode: difference;
  color: white; // Will invert to black on white backgrounds
}

Alternative: mix-blend-mode: exclusion for different color mixing
*/

export interface Props {
  title?: string;
  subtitle?: string;
  primaryCTA?: string;
  secondaryCTA?: string;
  primaryCTALink?: string;
  secondaryCTALink?: string;
  heroImage?: string;
  stats?: Array<{
    value: string;
    label: string;
  }>;
}

const {
  title = "KI-Systeme für den deutschen Mittelstand",
  subtitle = "Steigern Sie Ihre Effizienz um bis zu 50% mit maßgeschneiderten KI-Lösungen. Automatisieren Sie repetitive Aufgaben und fokussieren Sie sich auf Ihr Kerngeschäft.",
  primaryCTA = "Kostenlose Strategieberatung",
  secondaryCTA = "Live-Demo ansehen",
  primaryCTALink = "#final-cta",
  secondaryCTALink = "#final-cta",
  heroImage = "/images/hero/hero2.webp",
  stats = [
    { value: "40%", label: "Effizienzsteigerung" },
    { value: "60h", label: "Zeitersparnis/Monat" },
  ],
} = Astro.props;
---

<section
  id="hero"
  class="relative min-h-screen flex items-center overflow-hidden pt-16 sm:pt-20 lg:pt-32"
>
  <!-- Full-width background image extending to top -->
  <div class="absolute inset-0 -top-16 sm:-top-20">
    <img
      src={heroImage}
      alt="KI-Automatisierung Dashboard für deutsche Unternehmen"
      class="w-full h-full object-cover"
      loading="eager"
      fetchpriority="high"
      decoding="async"
      style="height: calc(100% + 4rem);"
    />
    <!-- Dark overlay for text readability -->
    <div class="absolute inset-0 bg-black/20"></div>
  </div>

  <div
    class="max-w-8xl mx-auto px-3 sm:px-4 md:px-6 lg:px-12 xl:px-16 relative z-10"
  >
    <div class="text-center max-w-6xl mx-auto">
      <!-- Main Headline with staggered animation -->
      <div class="hero-animate" style="animation-delay: 0.2s">
        <h1
          class="text-3xl sm:text-4xl md:text-5xl lg:text-7xl xl:text-7xl font-black text-white mb-2 leading-tight xl:leading-none max-w-5xl mx-auto"
          style="text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);"
        >
          {title}
        </h1>
      </div>

      <!-- Subtitle with delay -->
      <div class="hero-animate" style="animation-delay: 0.4s">
        <p
          class="text-base sm:text-lg md:text-xl lg:text-1xl text-white/90 mb-6 max-w-4xl mx-auto leading-normal px-4"
          style="text-shadow: 0 2px 4px rgba(0, 0, 0, 0.6);"
        >
          {subtitle}
        </p>
      </div>

      <!-- Benefits Buttons with staggered delay -->
      <div class="hero-animate" style="animation-delay: 0.6s">
        <div
          class="flex flex-wrap justify-center gap-2 sm:gap-3 mb-6 sm:mb-8 md:mb-12 px-2 sm:px-4"
        >
          <div class="relative group">
            <span
              class="px-3 py-2 sm:px-4 bg-gradient-to-r from-orange-500 to-orange-600 backdrop-blur-sm text-white text-xs sm:text-sm font-bold rounded-full cursor-help"
            >
              ✓ min +15% Effizienz
              <svg
                class="inline-block w-3 h-3 ml-1 opacity-70"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
                ></path>
              </svg>
            </span>
            <!-- Tooltip -->
            <div
              class="absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none z-20"
            >
              <div
                class="bg-white text-gray-900 text-xs rounded-lg px-3 py-2 shadow-lg border border-gray-200 whitespace-nowrap"
              >
                <div class="font-semibold mb-1">So messen wir:</div>
                <div>Durchschnittliche Effizienzsteigerung</div>
                <div>unserer Kundenprojekte im ersten Jahr</div>
                <!-- Arrow -->
                <div
                  class="absolute top-full left-1/2 transform -translate-x-1/2 border-4 border-transparent border-t-white"
                >
                </div>
              </div>
            </div>
          </div>
          <div class="relative group">
            <span
              class="px-3 py-2 sm:px-4 bg-gradient-to-r from-orange-500 to-orange-600 backdrop-blur-sm text-white text-xs sm:text-sm font-bold rounded-full cursor-help"
            >
              ✓ min 12h Zeitersparnis
              <svg
                class="inline-block w-3 h-3 ml-1 opacity-70"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
                ></path>
              </svg>
            </span>
            <!-- Tooltip -->
            <div
              class="absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none z-20"
            >
              <div
                class="bg-white text-gray-900 text-xs rounded-lg px-3 py-2 shadow-lg border border-gray-200 whitespace-nowrap"
              >
                <div class="font-semibold mb-1">So messen wir:</div>
                <div>Monatliche Arbeitszeitreduktion durch</div>
                <div>automatisierte Prozesse (Mindestgarantie)</div>
                <!-- Arrow -->
                <div
                  class="absolute top-full left-1/2 transform -translate-x-1/2 border-4 border-transparent border-t-white"
                >
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- CTA Button with Risk Reduction -->
      <div class="hero-animate" style="animation-delay: 0.8s">
        <div
          class="flex flex-col items-center mb-3 sm:mb-4 md:mb-6 px-6 sm:px-4"
        >
          <a
            href={primaryCTALink}
            class="group bg-white text-gray-900 px-6 sm:px-8 md:px-12 py-3 sm:py-4 rounded-full hover:bg-gray-100 transition-all duration-200 font-semibold text-base sm:text-lg shadow-2xl focus:outline-none focus:ring-4 focus:ring-white/30 w-full sm:w-auto text-center mb-3 cta-button"
            aria-label={primaryCTA}
          >
            <span class="flex items-center justify-center gap-2">
              <span class="truncate">{primaryCTA}</span>
              <svg
                class="w-4 h-4 sm:w-5 sm:h-5 flex-shrink-0 transition-transform duration-300 group-hover:translate-x-1"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <title>Arrow Right Icon</title>
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M17 8l4 4m0 0l-4 4m4-4H3"></path>
              </svg>
            </span>
          </a>

          <!-- Risk Reduction Text -->
          <p class="text-white/80 text-sm font-bold mb-2">
            100% Unverbindlich & kostenfrei
          </p>
        </div>
      </div>

      <!-- Trust Bar with Partner Logos -->
      <div class="hero-animate" style="animation-delay: 1.8s">
        <div class="flex flex-col items-center">
          <p class="text-white/70 text-xs sm:text-sm mb-3 font-medium">
            Zertifizierte Partnerschaften mit führenden Unternehmen:
          </p>
          <div
            class="flex items-center justify-center space-x-4 sm:space-x-6 md:space-x-8"
          >
            <img
              src="/images/logos/google.svg"
              alt="Google"
              class="h-8 sm:h-10 w-auto opacity-70 hover:opacity-90 transition-opacity filter brightness-0 invert"
              loading="lazy"
              decoding="async"
            />
            <img
              src="/images/logos/n8n.svg"
              alt="n8n"
              class="h-8 sm:h-10 w-auto opacity-70 hover:opacity-90 transition-opacity filter brightness-0 invert"
              loading="lazy"
              decoding="async"
            />
            <img
              src="/images/logos/ibm.svg"
              alt="IBM"
              class="h-8 sm:h-16 w-auto opacity-70 hover:opacity-90 transition-opacity filter brightness-0 invert"
              loading="lazy"
              decoding="async"
            />
            <img
              src="/images/logos/openai.svg"
              alt="OpenAI"
              class="h-8 sm:h-10 w-auto opacity-70 hover:opacity-90 transition-opacity filter brightness-0 invert"
              loading="lazy"
              decoding="async"
            />
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<style>
  /* Minimal upward appearing animation for hero elements */
  @keyframes heroFadeInUp {
    from {
      opacity: 0;
      transform: translateY(24px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .hero-animate {
    opacity: 0;
    animation: heroFadeInUp 0.8s ease-out forwards;
  }

  @keyframes counter {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .animate-counter {
    animation: counter 0.8s ease-out forwards;
  }

  /* Consistent CTA button animation */
  .cta-button {
    transform-origin: center;
    transition:
      transform 0.2s ease,
      background-color 0.2s ease;
    will-change: transform;
    backface-visibility: hidden;
  }

  .cta-button:hover {
    transform: scale(1.02);
  }

  /* Respect user's motion preferences */
  @media (prefers-reduced-motion: reduce) {
    .hero-animate {
      opacity: 1;
      animation: none;
      transform: translateY(0);
    }

    .cta-button:hover {
      transform: none;
    }
  }
</style>
