---
export interface Props {
  badges?: Array<{
    name: string;
    icon: string;
    description: string;
  }>;
  showLogos?: boolean;
  className?: string;
}

const {
  badges = [
    {
      name: "TÜV zertifiziert",
      icon: "tuv",
      description: "Geprüfte Qualität und Sicherheit nach deutschen Standards"
    },
    {
      name: "ISO 27001",
      icon: "iso",
      description: "Internationaler Standard für Informationssicherheit"
    },
    {
      name: "DSGVO konform",
      icon: "dsgvo",
      description: "Vollständige Datenschutz-Grundverordnung Compliance"
    },
    {
      name: "Made in Germany",
      icon: "germany",
      description: "Entwickelt und gehostet in Deutschland"
    }
  ],
  showLogos = true,
  className = ""
} = Astro.props;
---

<section id="trust-bar" class={`py-12 bg-white border-b border-gray-100 ${className}`}>
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="text-center mb-8">
      <p class="text-sm font-medium text-gray-500 uppercase tracking-wide">
        Vertrauen Sie auf geprüfte Qualität
      </p>
    </div>
    
    <div class="grid grid-cols-2 md:grid-cols-4 gap-8 items-center justify-items-center">
      {badges.map((badge, index) => (
        <div 
          class="flex flex-col items-center group opacity-60 hover:opacity-100 transition-all duration-300 transform hover:scale-105"
          style={`animation: fadeInUp 0.6s ease-out ${index * 100}ms both`}
        >
          <!-- Badge Icon -->
          <div class="mb-3 p-4 rounded-full bg-gray-50 group-hover:bg-primary-50 transition-colors duration-300">
            {badge.icon === 'tuv' && (
              <svg class="w-8 h-8 text-green-600" fill="currentColor" viewBox="0 0 24 24">
                <path d="M12 2L2 7L12 12L22 7L12 2Z"/>
                <path d="M2 17L12 22L22 17"/>
                <path d="M2 12L12 17L22 12"/>
              </svg>
            )}
            
            {badge.icon === 'iso' && (
              <svg class="w-8 h-8 text-blue-600" fill="currentColor" viewBox="0 0 24 24">
                <path fill-rule="evenodd" d="M2.166 4.999A11.954 11.954 0 0010 1.944 11.954 11.954 0 0017.834 5c.11.65.166 1.32.166 2.001 0 5.225-3.34 9.67-8 11.317C5.34 16.67 2 12.225 2 7c0-.682.057-1.35.166-2.001zm11.541 3.708a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
              </svg>
            )}
            
            {badge.icon === 'dsgvo' && (
              <svg class="w-8 h-8 text-green-600" fill="currentColor" viewBox="0 0 24 24">
                <path fill-rule="evenodd" d="M18 8a6 6 0 01-7.743 5.743L10 14l-1 1-1 1H6v2H2v-4l4.257-4.257A6 6 0 1118 8zm-6-4a1 1 0 100 2 2 2 0 012 2 1 1 0 102 0 4 4 0 00-4-4z" clip-rule="evenodd"/>
              </svg>
            )}
            
            {badge.icon === 'germany' && (
              <svg class="w-8 h-8 text-red-600" fill="currentColor" viewBox="0 0 24 24">
                <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
              </svg>
            )}
          </div>
          
          <!-- Badge Text -->
          <div class="text-center">
            <h3 class="font-semibold text-gray-900 text-sm mb-1 group-hover:text-primary-600 transition-colors">
              {badge.name}
            </h3>
            <p class="text-xs text-gray-500 max-w-24 leading-tight hidden md:block">
              {badge.description.split(' ').slice(0, 4).join(' ')}...
            </p>
          </div>
          
          <!-- Tooltip for mobile -->
          <div class="md:hidden absolute z-20 invisible group-hover:visible bg-gray-900 text-white text-xs rounded-lg py-2 px-3 mt-2 max-w-48 transform -translate-x-1/2 left-1/2">
            {badge.description}
            <div class="absolute top-0 left-1/2 transform -translate-x-1/2 -translate-y-1 border-l-4 border-r-4 border-b-4 border-transparent border-b-gray-900"></div>
          </div>
        </div>
      ))}
    </div>

    <!-- Additional Trust Indicators -->
    {showLogos && (
      <div class="mt-12 pt-8 border-t border-gray-100">
        <p class="text-center text-sm text-gray-500 mb-6">
          Bereits über 200 deutsche Mittelstandsunternehmen vertrauen auf unsere Lösungen
        </p>
        
        <!-- Placeholder for customer logos -->
        <div class="flex flex-wrap justify-center items-center gap-8 opacity-40">
          {[1, 2, 3, 4, 5].map((logo) => (
            <div class="h-12 w-24 bg-gray-200 rounded flex items-center justify-center">
              <span class="text-xs text-gray-400 font-medium">Logo {logo}</span>
            </div>
          ))}
        </div>
      </div>
    )}
  </div>
</section>

<style>
  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 0.6;
      transform: translateY(0);
    }
  }
  
  .group:hover * {
    animation-play-state: paused;
  }
</style>